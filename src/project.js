require=function t(n,i,e){function o(s,c){if(!i[s]){if(!n[s]){var a="function"==typeof require&&require;if(!c&&a)return a(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var h=i[s]={exports:{}};n[s][0].call(h.exports,function(t){var i=n[s][1][t];return o(i?i:t)},h,h.exports,t,n,i,e)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<e.length;s++)o(e[s]);return o}({AppManager:[function(t,n,i){"use strict";cc._RFpush(n,"037eawaArFKxr44RU4l1o9s","AppManager");var e=t("ResultPanel");window.SUBJECT_TYPE=cc.Enum({Single:-1,Multi:-1}),cc.Class({"extends":cc.Component,properties:{preSubjectItem:cc.Prefab,subjectScrollView:cc.ScrollView,count:cc.Label,totalCount:cc.Label,_index:0,index:{get:function(){return this._index},set:function(t){var n=app.configList.length-1;t===this._index||t<0||t>n||(this._index=t,this.count.string=t+1,this.moveTo(t))},visible:!1},_subjectList:[],resultPanel:e},init:function(t,n){t&&(this.title=app.Util.searchComp(this.node,"AppTitle",cc.Label),this.title.string=t),this.count.string=1,this.totalCount.string=n.length,app.configList=[];for(var i=0;i<n.length;++i){var e=n[i],o=e.answer.split(","),r=o.length>1?SUBJECT_TYPE.Multi:SUBJECT_TYPE.Single,s=this._subjectList[i];if(!s){var c=cc.instantiate(this.preSubjectItem);c.parent=this.subjectScrollView.content,s={item:c.getComponent("SubjectItem"),type:r},this._subjectList.push(s)}s.type=r,s.item.init(i,e,this.onSelectOption.bind(this)),e.result=-1,app.configList.push(e)}},moveTo:function(t){var n=-320-640*t,i=cc.p(n,375);this.subjectScrollView.scrollToTop(),this.subjectScrollView.content.runAction(cc.moveTo(.1,i));var e=this._subjectList[t];this.subjectScrollView.content.height=e.item.node.height},update:function(){var t=this._subjectList[this.index];t&&(this.subjectScrollView.content.height=t.item.node.height)},onShowAnswer:function(){var t=this._subjectList[this.index];t&&t.item.showAnswerDisplay()},onCheckAnswer:function(){var t=this._subjectList[this.index];t&&t.item.updateAnswerDisplay()},onAssignment:function(){this._subjectList.forEach(function(t){var n=t.item,i=app.configList[n.index];i&&t.type===SUBJECT_TYPE.Multi&&!function(){var t=i.answer.split(","),e=[],o=0,r=n.optionGroupNode.children;if(r.forEach(function(t){var n=t.getComponent(cc.Toggle);n.isChecked?e.push(n.node.tag):o++}),o>=5)i.result=-1;else if(t.length!==e.length)i.result=!1;else{var s=!0;e.forEach(function(n){t.indexOf(n)===-1&&(s=!1)}),i.result=s}app.configList[n.index]=i}()}),this.resultPanel.show(this)},onLast:function(){this.index--},onNext:function(){this.index++},onBack:function(){this.mainPanel=app.Util.searchNode(this.node.parent,"MainPanel"),this.mainPanel.active=!0,this.index=0,this._subjectList.forEach(function(t){t.item.optionGroup&&t.item.optionGroup.node&&t.item.optionGroup.node.removeComponent(cc.ToggleGroup)})},onSelectOption:function(t){var n=this._subjectList[this.index];if(n.type===SUBJECT_TYPE.Single){var i=app.configList[t.number];i.result=i.answer===t.option,app.configList[t.number]=i,this.onNext()}}}),cc._RFpop()},{ResultPanel:"ResultPanel"}],Global:[function(t,n,i){"use strict";cc._RFpush(n,"e1b77aZjvpBKJD5Jt3z0oeA","Global");var e={configList:[],scrollViewPos:null};window.app=e,cc._RFpop()},{}],JianDaOrLunShu:[function(t,n,i){"use strict";cc._RFpush(n,"706cftHFtBCV53ssFMBgEgE","JianDaOrLunShu"),cc.Class({"extends":cc.Component,properties:{scrollViewRoot:cc.ScrollView,jdLabel:cc.Label,lsLabel:cc.Label,btn:cc.Button},onLoad:function(){var t=this;this.curJianDaRandomArr=[],this.curLunShuRandomArr=[],this.jianDaDataArr=[],this.lunShuDataArr=[],this.itemList=[];for(var n=0;n<6;++n){var i=app.Util.searchComp(this.node,"item_"+n,cc.Label);i.node.parent=this.scrollViewRoot.content,this.itemList.push(i)}cc.loader.loadRes("JianDaLunShu",function(n,i){t.jianDaDataArr=i.configArr_0,t.lunShuDataArr=i.configArr_1,t.jdLabel.string="简答题剩余："+t.jianDaDataArr.length,t.lsLabel.string="论述题剩余："+t.lunShuDataArr.length,t.randomTopic()})},randomIndex:function(t,n){for(;n.length!==t;){var i=Math.ceil(Math.random()*t);if(n.indexOf(i)===-1)return n.push(i),i}return-1},reset:function(){this.btn.interactable=!0,this.curJianDaRandomArr=[],this.curLunShuRandomArr=[],this.randomTopic()},randomTopic:function(t){if(this.jianDaDataArr||this.lunShuDataArr){for(var n=0,i=this.jianDaDataArr.length-1,e=0;e<5;++e)n=this.randomIndex(i,this.curJianDaRandomArr),n!==-1?this.itemList[e].string=this.jianDaDataArr[n]:this.itemList[e].string="";var o=Math.abs(i-this.curJianDaRandomArr.length);this.jdLabel.string="简答题剩余："+o,i=this.lunShuDataArr.length-1,n=this.randomIndex(i,this.curLunShuRandomArr),n!==-1?this.itemList[5].string=this.lunShuDataArr[n]:this.itemList[5].string="";var r=Math.abs(i-this.curLunShuRandomArr.length);this.lsLabel.string="论述题剩余："+r,this.btn.interactable=0!==o&&0!==r}}}),cc._RFpop()},{}],Main:[function(t,n,i){"use strict";cc._RFpush(n,"0e514H/rWlBbrJGNJWyxepT","Main"),cc.Class({"extends":cc.Component,properties:{preMenuItem:cc.Prefab,menuItemRoot:cc.ScrollView},_loadConfig:function(){var t=this;this._config=[];for(var n=function(n){cc.loader.loadRes("Data/config_"+n,function(i,e){t._config[n]=e,t._initControl(n,e.tag,e.type)})},i=1;i<=11;++i)n(i)},_initControl:function(t,n,i){var e=cc.instantiate(this.preMenuItem),o=e.getChildByName("Text").getComponent(cc.Label);o.string=n+"-"+i+"("+t+")",e.tag=t,e.on("click",this.onClick,this),e.parent=this.menuItemRoot.content,9===t&&app.scrollViewPos&&this.menuItemRoot.setContentPosition(app.scrollViewPos)},onClick:function(t){app.scrollViewPos=this.menuItemRoot.getContentPosition();var n=this._config[t.target.tag];this.appMgr=app.Util.searchComp(this.node.parent,"AppPanel","AppManager"),this.appMgr.init(n.tag,n.configArr),this.node.active=!1},onLoad:function(){this._loadConfig()}}),cc._RFpop()},{}],ResultPanel:[function(t,n,i){"use strict";cc._RFpush(n,"7183dncGQdAHqNVK3+Ehq1u","ResultPanel");var e=new cc.Color(150,150,255);cc.Class({"extends":cc.Component,properties:{preResultItem:cc.Prefab,resultRoot:cc.Node,btnBack:cc.Node},onLoad:function(){this.node.on("touchend",function(t){t.stopPropagation()},this),this.btnBack.on("touchend",this.onBack,this)},removeResultAll:function(){this.resultRoot.removeAllChildren()},_createResult:function(){for(var t=0;t<app.configList.length;++t){var n=app.configList[t],i=cc.instantiate(this.preResultItem),o=app.Util.searchComp(i,"Text",cc.Label);o.string=t+1;var r=n.result;-1!==r&&(i.color=n.result?e:cc.Color.RED),i.tag=t,i.on("touchend",this._goToTargetSubject,this),i.parent=this.resultRoot}},_goToTargetSubject:function(t){this._appMgr.index=t.target.tag,this._appMgr.onShowAnswer(),this.hide()},show:function(t){this.removeResultAll(),this._appMgr=t,this._createResult(),this.node.runAction(cc.moveTo(.2,cc.p(0,0)))},hide:function(){var t=cc.moveTo(.2,cc.p(0,-960)),n=cc.callFunc(this._hide,this),i=cc.sequence(t,n);this.node.runAction(i)},_hide:function(){this.resultRoot.removeAllChildren()},onBack:function(){this.hide()}}),cc._RFpop()},{}],SubjectItem:[function(t,n,i){"use strict";cc._RFpush(n,"e58e2QxH7JGIrIbek6UugCU","SubjectItem");var e=["A","B","C","D","E"];cc.Class({"extends":cc.Component,properties:{title:cc.Label,optionGroupNode:cc.Node,answer:cc.Label},init:function(t,n,i){var o=this,r=n.answer,s=r.split(","),c=s.length>1;this.optionGroup=null,c||(this.optionGroup=this.optionGroupNode.addComponent(cc.ToggleGroup),this.optionGroup.enabled=!1),this.index=t,this._onSelectOption=i,this.title.string=n.title;for(var a=this.optionGroupNode.children,u=0;u<a.length;++u){var h=a[u],l=e[u],p=app.Util.searchComp(h,"Text",cc.Label);if(h.active=!0,n[l]){p.string=l+"."+n[l],h.tag=l,h.on("click",this.onClick,this);var d=h.getComponent(cc.Toggle);this.optionGroup&&(this.optionGroup.allowSwitchOff=!0,d.toggleGroup=this.optionGroup,this.optionGroup.addToggle(d)),d.isChecked=!1}else h.active=!1}this.answer.string="",c?s.forEach(function(t){o.answer.string+=t+". "+n[t]+"\n\n"}):this.answer.string=r+". "+n[r],this.answer.node.parent.active=!1},showAnswerDisplay:function(){this.answer.node.parent.active=!0},updateAnswerDisplay:function(){this.answer.node.parent.active=!this.answer.node.parent.active},onClick:function(t){this.optionGroup&&(this.optionGroup.enabled=!0);var n={number:this.index,option:t.target.tag};this._onSelectOption&&this._onSelectOption(n)}}),cc._RFpop()},{}],Util:[function(t,n,i){"use strict";cc._RFpush(n,"7dad4XCU05Ka6KwCK80IBeF","Util"),app.Util={searchComp:function(t,n,i){var e=this.searchNode(t,n);if(!e)return null;var o=e.getComponent(i);return o?o:null},searchNode:function(t,n,i){function e(t,n){for(var i=[[t]],e=0;e<i.length;++e)for(var o=i[e],r=0;r<o.length;++r){if(t=o[r],t.name===n)return t;i.push(t.children)}return null}var o=void 0;o=t;for(var r=1;r<arguments.length&&o;++r)o=e(o,arguments[r]);return o}},cc._RFpop()},{}]},{},["Global","Util","JianDaOrLunShu","AppManager","Main","ResultPanel","SubjectItem"]);